defaults/main.yml

deployment_path: "~/Infrastructure"
git_repository: "https://github.com/PandaTest2022/Infrastructure.git"
git_branch: "main"

tasks/main.yml
- name: Install docker-compose python package
  pip:
    name: 
    - docker
    - docker-compose
- name: Git checkout
  git:
    repo: "{{ git_repository }}"
    dest: "{{ deployment_path }}"
    version: "{{ git_branch }}"
- name: Run `docker-compose up`
  docker_compose:
    project_src: "{{ deployment_path }}"
    build: yes
    debug: yes
